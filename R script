library (tidyverse)
library(jsonlite)
library(ggplot2)

cards <- fromJSON("https://raw.githubusercontent.com/vincenzojrs/Python-and-R-Workrgroup---Task-2.2/main/cards.json")
df <- as.data.frame(cards)
df <- df[c(1,3,4,7,8,9,11,13,15,16,29)]

  #la funzione attach mi permette di non ripetere il nome del dataframe in ogni passaggio 
attach(df)
  #creo due nuove colonne che rappresentano average e ratio di ogni carta 
df$cards.average <- as.numeric(df$cards.power) + as.numeric(df$cards.toughness) #potenza e resistenza sommate
df$cards.ratio <-  as.numeric(df$cards.average) / df$cards.cmc #rapporto tra potenza complessiva e costo di evocazione 

df_clean = filter(df, !(cards.power== c("NA","*")))

ggp1 <- ggplot(data = df_clean) +
  geom_count(mapping = aes(x = cards.average , y = cards.cmc )) 
  facet_wrap(~ cards.rarity, nrow = 3)
  
ggp2 <- ggplot(data = df_clean) +
  geom_count(mapping = aes(x = cards.power , y = cards.cmc, color = cards.rarity))

ggp3 <- ggplot(data = df_clean) +
  geom_smooth(mapping = aes(x = cards.cmc, y = cards.average))
